<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Syllabus – EC242</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": "tree",
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/Spartan-Helmet_White.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">EC242</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./syllabus.html" aria-current="page"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./content/index.html"> 
<span class="menu-text">Course Content</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./assignment/index.html"> 
<span class="menu-text">Assignments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./resource/index.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://ec242.slack.com"> <i class="bi bi-slack" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <div id="quarto-announcement" data-announcement-id="88700f49d01e892b71e8894c667f39af" class="alert alert-primary hidden"><i class="bi bi-info-circle quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p>I have moved the end of Tuesday’s unit to the beginning of today’s. And Project 1 is now up.</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-this-course" id="toc-what-is-this-course" class="nav-link active" data-scroll-target="#what-is-this-course">What is This Course?</a>
  <ul class="collapse">
  <li><a href="#what-it-is" id="toc-what-it-is" class="nav-link" data-scroll-target="#what-it-is">What it is:</a></li>
  <li><a href="#what-it-is-not" id="toc-what-it-is-not" class="nav-link" data-scroll-target="#what-it-is-not">What it is Not:</a></li>
  </ul></li>
  <li><a href="#course-times-structure-and-office-hours" id="toc-course-times-structure-and-office-hours" class="nav-link" data-scroll-target="#course-times-structure-and-office-hours">Course Times, Structure, and Office Hours</a>
  <ul class="collapse">
  <li><a href="#lecture-times-and-location" id="toc-lecture-times-and-location" class="nav-link" data-scroll-target="#lecture-times-and-location">Lecture times and location</a></li>
  <li><a href="#course-structure" id="toc-course-structure" class="nav-link" data-scroll-target="#course-structure">Course Structure</a></li>
  <li><a href="#office-hours--" id="toc-office-hours--" class="nav-link" data-scroll-target="#office-hours--">Office hours - Prof.&nbsp;K</a></li>
  <li><a href="#office-hours---teaching-assistant" id="toc-office-hours---teaching-assistant" class="nav-link" data-scroll-target="#office-hours---teaching-assistant">Office Hours - Teaching Assistant</a></li>
  <li><a href="#slack" id="toc-slack" class="nav-link" data-scroll-target="#slack">Slack</a></li>
  </ul></li>
  <li><a href="#about-me" id="toc-about-me" class="nav-link" data-scroll-target="#about-me">About Me</a></li>
  <li><a href="#course-materials" id="toc-course-materials" class="nav-link" data-scroll-target="#course-materials">Course materials</a>
  <ul class="collapse">
  <li><a href="#r-and-rstudioposit" id="toc-r-and-rstudioposit" class="nav-link" data-scroll-target="#r-and-rstudioposit">R and RStudio/Posit</a></li>
  <li><a href="#online-help" id="toc-online-help" class="nav-link" data-scroll-target="#online-help">Online help</a></li>
  </ul></li>
  <li><a href="#evaluations-and-grades" id="toc-evaluations-and-grades" class="nav-link" data-scroll-target="#evaluations-and-grades">Evaluations and Grades</a>
  <ul class="collapse">
  <li><a href="#sec-dropone" id="toc-sec-dropone" class="nav-link" data-scroll-target="#sec-dropone">Dropping your lowest scores</a></li>
  <li><a href="#grade-rubric" id="toc-grade-rubric" class="nav-link" data-scroll-target="#grade-rubric">Grade Rubric</a></li>
  <li><a href="#grading-appeals" id="toc-grading-appeals" class="nav-link" data-scroll-target="#grading-appeals">Grading Appeals</a></li>
  <li><a href="#class-participation" id="toc-class-participation" class="nav-link" data-scroll-target="#class-participation">Class Participation</a></li>
  <li><a href="#success-in-this-course" id="toc-success-in-this-course" class="nav-link" data-scroll-target="#success-in-this-course">Success in this Course</a></li>
  <li><a href="#academic-honesty" id="toc-academic-honesty" class="nav-link" data-scroll-target="#academic-honesty">Academic honesty</a></li>
  <li><a href="#generative-ai" id="toc-generative-ai" class="nav-link" data-scroll-target="#generative-ai">Generative AI</a></li>
  </ul></li>
  <li><a href="#accommodations" id="toc-accommodations" class="nav-link" data-scroll-target="#accommodations">Accommodations</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  <li><a href="#mandated-reporting" id="toc-mandated-reporting" class="nav-link" data-scroll-target="#mandated-reporting">Mandated Reporting</a></li>
  <li><a href="#acknowledgements" id="toc-acknowledgements" class="nav-link" data-scroll-target="#acknowledgements">Acknowledgements</a></li>
  <li><a href="#miscellanea" id="toc-miscellanea" class="nav-link" data-scroll-target="#miscellanea">Miscellanea</a></li>
  <li><a href="#contacting-me" id="toc-contacting-me" class="nav-link" data-scroll-target="#contacting-me">Contacting Me</a>
  <ul class="collapse">
  <li><a href="#letters-of-recommendation-references" id="toc-letters-of-recommendation-references" class="nav-link" data-scroll-target="#letters-of-recommendation-references">Letters of Recommendation / References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Syllabus</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="what-is-this-course" class="level2">
<h2 class="anchored" data-anchor-id="what-is-this-course">What is This Course?</h2>
<section id="what-it-is" class="level3">
<h3 class="anchored" data-anchor-id="what-it-is">What it is:</h3>
<p>Innovations in statistical learning have created many engineering breakthroughs. From real time voice recognition to automatic categorization (and in some cases production) of news stories, machine learning is transforming the way we live our lives. These techniques are, at their heart, novel ways to work with data, and therefore they should have implications for social science. This course explores the intersection of statistical learning (or machine learning) and social science and aims to answer two primary questions about these new techniques:</p>
<ol type="i">
<li><p>How does statistical learning work and what kinds of statistical guarantees can be made about the performance of statistical-learning algorithms?</p></li>
<li><p>How can statistical learning be used to answer questions that interest social science researchers, such as testing theories or improving social policy?</p></li>
</ol>
<p>In order to address these questions, we will cover so-called “standard” techniques such as supervised and unsupervised learning, statistical learning theory and nonparametric and Bayesian approaches. If it were up to me, this course would be titled “Statistical Learning for Social Scientists”—I believe this provides a more appropriate guide to the content of this course. And while this class will cover these novel statistical methodologies in some detail, it is not a substitute for the appropriate class in Computer Science or Statistics. Nor is this a class that teaches specific skills for the job market. Rather, this class will teach you to think about data analytics broadly. We will spend a great deal of time learning how to interpret the output of statistical learning algorithms and approaches, and will also spend a great deal of time on better understanding the basic ideas in statistical learning. This, of course, comes at some cost in terms of time spent on learning computational and/or programming skills.</p>
<p><strong>Enrollment for credit in this course is simply not suitable for those unprepared in or uninterested in elementary statistical theory no matter the intensity of interest in machine learning or “Big Data”. Really.</strong></p>
<p>You will be required to understand elementary mathematics in this course and should have at least some exposure to statistical theory. The class is front-loaded technically: early lectures are more mathematically oriented, while later lectures are more applied.</p>
<p>The topics covered in this course are listed later in this document. I will assign readings sparingly from <a href="https://www.statlearning.com/"><i class="fa-solid fa-book" aria-label="book"></i> Introduction to Statistical Learning</a>, henceforth referred to as ISL. This text is available for free online and, for those who like physical books, can be purchased for about $25. Importantly, the lectures deviate a fair bit from the reading, and thus you will rely on your course notes much more than you might in other classes.</p>
<p>If—after you have read this document and preferably after attending the first lecture—you have any questions about whether this course is appropriate for you, please come talk to me.</p>
</section>
<section id="what-it-is-not" class="level3">
<h3 class="anchored" data-anchor-id="what-it-is-not">What it is Not:</h3>
<p>The focus of this course is conceptual. The goal is to create a working understanding of when and how tools from computer science and statistics can be profitably applied to problems in social science. Though students will be required to apply some of these techniques themselves, this course is not…</p>
<p><em>…a replacement for EC420, EC422, or a course in causal inference.</em></p>
<p>As social scientists, we are most often concerned with causal inference in order to anaOpelyze and write policies. Statistical learning and the other methods we will discuss in this course are generally not well-suited to these problems, and while I’ll give a short overview of standard methods, this is only to build intuitions. Ultimately, this course has a different focus and you should still pursue standard methodological insights from your home departments.</p>
<p><em>…a course on the computational aspects of the underlying methods.</em></p>
<p>There are many important innovations that have made machine learning techniques computationally feasible. We will not discuss these, as there are computer science courses better equipped to cover them. When appropriate, we will discuss whether something <strong>is</strong> computable, and we will even give rough approximations of the amount of time required (e.g.&nbsp;<strong>P</strong> vs <strong>NP</strong>). But we will not discuss how optimizers work or best practices in programming.</p>
<p><em>…a primer on the nitty-gritty of how to use these tools or a way to pad your resume.</em></p>
<p>The mechanics of implementation, whether it be programming languages or learning to use APIs, will not be covered in any satisfying level of depth. Students will be expected to learn most of the programming skills on their own. Specifically, while there will be some material to remind you of basic <code>R</code> commands, this is not a good course for people who are simply looking to learn the mechanics of programming. This course is designed to get you to use both traditional analytics and, eventually, machine learning tools. We will do some review of basic programming, and you will have the opportunity to explore topics that interest you through a final project, but ultimately this is a course that largely focuses on the theoretical and practical aspects of statistical learning as applied to social science and <strong>not</strong> a class on programming.</p>
<p>Perhaps most importantly, this course is an attempt to push undergraduate education toward the frontiers in social science. Accordingly, please allow some messiness. Some topics may be underdeveloped for a given person’s passions, but given the wide variety of technical skills and overall interests, this is a near certainty. Both the challenge and opportunity of this area comes from the fact that there is no fully developed, wholly unifying framework. Our collective struggle—me from teaching, you from learning—will ultimately bear fruit.</p>
</section>
</section>
<section id="course-times-structure-and-office-hours" class="level2">
<h2 class="anchored" data-anchor-id="course-times-structure-and-office-hours">Course Times, Structure, and Office Hours</h2>
<section id="lecture-times-and-location" class="level3">
<h3 class="anchored" data-anchor-id="lecture-times-and-location">Lecture times and location</h3>
<p>This course meets Tu/Th 1:20 - 2:40pm in NatSci 116. This class is in-person and will not have an online component.</p>
</section>
<section id="course-structure" class="level3">
<h3 class="anchored" data-anchor-id="course-structure">Course Structure</h3>
<p>Here’s how each week will work: before class on Tuesday, you’ll read the first entry under <a href=".\content/">content</a> for the week – the first is more geared towards “principles” and the second toward “applications” and are labeled as such on our <a href=".\schedule.html">course schedule</a>. On Tuesday, you’ll come to lecture. Before Thursday, you’ll read the second <a href=".\content/">content</a> entry for the week, and on Thursday you’ll come to lecture ready to participate with a charged laptop. On Saturday night by 11:59pm, you’ll turn in your <a href=".\assignment/#weekly-writings">Weekly Writing assignment</a> responding to the weekly writing prompt <strong>given during class on Tuesday or Thursday</strong>, rendered to PDF by RMarkdown and using the proper template (see <a href=".\assignment">assignments</a>). By Monday at 11:59pm, you’ll turn in your <a href=".\assignment/#labs">Lab assignment</a>, also using the RMarkdown template.</p>
<p>You’ll repeat this each week until we’re out of labs. If a holiday occurs on a due date, then the assignment or lab is due the next non-holiday day at 11:59pm or as otherwise noted. You’ll also work with your assigned group on the Group Project. We’ll assign groups after the drop deadline has passed.</p>
<p>Our material is laid out on each page, one for Tuesday and one for Thursday. This means we will conduct our class meetings by moving through the material and discussing it. Scrolling through together can feel a bit odd, but having one document means it is more searchable than, say, slides. Along the way, we’ll hit callout boxes instructing us to try some coding, time permitting.</p>
<p>This class is totally, unapologetically a work in progress. Material is a mish-mash of stuff from courses offered at Caltech, Stanford, Harvard, and Duke…so, yeah, it will be challenging. Hopefully, you’ll find it fun! Because this is an ever-evolving field, there may be more hiccups than you might otherwise expect:</p>
<ul>
<li><p>Some of the lectures will be too long or too short.</p></li>
<li><p>Some of the lectures won’t make sense at first</p></li>
<li><p>Some of the time I’ll forget what I intended to say and awkwardly stare at you for a few moments (sorry).</p></li>
</ul>
<p>I promise to improve the course with feedback, so if you have comments please speak up.</p>
</section>
<section id="office-hours--" class="level3">
<h3 class="anchored" data-anchor-id="office-hours--">Office hours - Prof.&nbsp;K</h3>
<ul>
<li><p>Prof.&nbsp;K office hours: <strong>Thursdays 2:45 (after class) till 4:00pm</strong></p></li>
<li><p>Prof.&nbsp;K office hours Zoom link: <a href="https://msu.zoom.us/j/92054231037?pwd=OiRKvESN4M8ZbvjVbV5J9hLye9AA7G.1">zoom</a>.</p></li>
</ul>
<p>My office hours start immediately following class on Thursday, so I will stay in the classroom and answer questions, or we can walk-and-talk back to my office if you have a longer question. If you prefer to meet at my office located at Old Botany 105 (off W. Circle Ave), allow a little time for me to return from class. I’ll log onto Zoom when I arrive at the office for anyone attending remotely.</p>
<p>I also hold dedicated Sunday evening office hours via Slack between 6:30 PM until about 8:00 PM. In addition, I will check Slack throughout the week and use it as an always-on avenue of communication and help.</p>
<p>It would be remarkable if you didn’t need some assistance with the material, and I am here to help. One of the benefits of open office hours is to accommodate many students at once; if fellow students are in my office, please join in and feel very free to show up in groups. As a general rule, please first seek course-related help from the course website. However, if my scheduled office hours do not work for you please let me know. I may encourage you to make appointments with me. I ask that you schedule your studying so that you are prepared to ask questions during office hours – office hours are not a lecture and if you’re not prepared with questions we will end up awkwardly staring at each other for an hour until you leave.</p>
<p>Some gentle requests regarding office hours and on contacting me. First, my office hours end sharply at the end, so don’t arrive 10 minutes before the scheduled end and expect a full session. Please arrive early if you have lengthy questions, or if you don’t want to risk not having time due to others’ questions. You are free to ask me some stuff by e-mail, (e.g.&nbsp;a typo or something on a handout), but please know e-mail sucks for answering many types of questions. “How do I do this lab?” or “What’s wrong with my <code>R</code> setup?” are short questions with long answers. Come to office hours or ask on Slack.</p>
</section>
<section id="office-hours---teaching-assistant" class="level3">
<h3 class="anchored" data-anchor-id="office-hours---teaching-assistant">Office Hours - Teaching Assistant</h3>
<ul>
<li><p>TA Zach Henley: <a href="mailto:%20henleyza@msu.edu">henleyza@msu.edu</a></p></li>
<li><p>TA Office Hours via <strong>Zoom</strong>: <strong>Fridays 9:30-11am</strong></p></li>
<li><p>TA Office Hours Zoom link: <a href="https://msu.zoom.us/j/94642979973">zoomlink</a></p></li>
</ul>
</section>
<section id="slack" class="level3">
<h3 class="anchored" data-anchor-id="slack">Slack</h3>
<p>We will use Slack as a forum for asking questions about the course, including course policies and, primarily, help questions with <code>R</code>. Students are encouraged to help answer each others’ questions, and to use the forum as a first-step for seeking help. Myself and the TA will monitor slack and answer questions regularly. You can join our Slack channel with this link: <a href="https://join.slack.com/t/msu-knz8878/shared_invite/zt-2oohvam9f-iiZRu1xavmxk_Kbbv47xoQ">Join EC242 Slack</a>. Once you have joined, bookmark our <a href="https://ec242.slack.com">Slack</a>.</p>
<p>One of the biggest advantages of using Slack is that you can take screenshots and paste them directly into your post (using <em>screenshot</em> on mac or <em>snipping tool</em> on Windows, set it to capture to your “clipboard”).</p>
<div class="callout callout-style-default callout-tip callout-titled" title="My DM's are closed">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
My DM’s are closed
</div>
</div>
<div class="callout-body-container callout-body">
<p>Please ask your question in one of the coursewide channels so that our TA can answer when I am unavailable. You will receive a faster reply that way.</p>
</div>
</div>
<p>Joining Slack counts towards course participation. I highly recommend you join.</p>
</section>
</section>
<section id="about-me" class="level2">
<h2 class="anchored" data-anchor-id="about-me">About Me</h2>
<p><strong>Me:</strong> My primary area of expertise is economics. I am an environmental economist working primarily on household energy consumption and quantifying the environmental benefits of renewables and increased energy efficiency. I have taught versions of this course at MSU for around five years, and have worked extensively with R for around 15 years. I received my PhD in environmental economics from Duke in 2019, and did my Undergrad at UC Davis.</p>
<p>While my research occasionally touches the topics in the course, it mostly utilizes tools and techniques from this course as tools.</p>
</section>
<section id="course-materials" class="level2">
<h2 class="anchored" data-anchor-id="course-materials">Course materials</h2>
<p>The course website can be found at <a href="https://ec242.netlify.app">https://ec242.netlify.app</a> (but you know that. You’re on it right now.)</p>
<p>The second required reading is the <a href="https://www.statlearning.com/"><strong><i class="fa-solid fa-book" aria-label="book"></i> Introduction to Statistical Learning (2nd Ed)</strong></a>, which is available free online (you can buy a paper copy if you want, and you hate trees).</p>
<p>All of the readings and software in this class are <strong>free</strong>. There are free online version of all the texts including <a href="https://www.statlearning.com/"><strong><i class="fa-solid fa-book" aria-label="book"></i> Introduction to Statistical Learning (2nd Ed)</strong></a> and <code>R</code> / RStudio are free (don’t pay for RStudio). We will reference outside readings and there exist paper versions of some “books” but you won’t need to buy anything<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<section id="r-and-rstudioposit" class="level3">
<h3 class="anchored" data-anchor-id="r-and-rstudioposit">R and RStudio/Posit</h3>
<p>You will do all of your analysis with the open source (and free!) programming language <a href="https://cran.r-project.org/"><code>R</code></a>. You will use <a href="https://www.rstudio.com/">RStudio</a> (which is undergoing a slow-mo rebrand to “Posit” while the functionality remains the same) as the main program to access R. <strong>Think of <code>R</code> as an engine and RStudio as a car</strong>—<code>R</code> handles all the calculations produces the actual statistics and graphical output, while RStudio provides a nice interface for running <code>R</code> code.</p>
<p><code>R</code> is free, but it can sometimes be a pain to install and configure. To make life easier, you can (and should!) use the free <a href="http://posit.cloud/">Posit.cloud</a> (formerly Rstudio.cloud) service, which lets you run a full instance of RStudio in your web browser. This means you won’t have to install anything on your computer to get started with <code>R</code>. We recommend this for those who may be switching between computers and are trying to get some work done. That said, while Posit.cloud is convenient, it can be slow and it is not designed to be able to handle larger datasets or more complicated analysis and graphics. You also can’t use your own custom fonts with RStudio.cloud.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> And, generally speaking, you should have (from the prerequisite course) sufficient experience to make your <code>R</code> work. If not, over the course of the semester, you’ll probably want to get around to installing <code>R</code>, RStudio, and other <code>R</code> packages on your computer and wean yourself off of RStudio.cloud. If you plan on making a career out of data science, you should consider this a necessary step.</p>
<p>You can <a href=".\resource/install/">find instructions for installing <code>R</code>, RStudio/Posit, and all the tidyverse packages here.</a> And you may find some other goodies.</p>
</section>
<section id="online-help" class="level3">
<h3 class="anchored" data-anchor-id="online-help">Online help</h3>
<p>Data science and statistical programming can be difficult. Computers are stupid and little errors in your code can cause hours of headache (even if you’ve been doing this stuff for years!).</p>
<p>Fortunately there are tons of online resources to help you with this beyond our course Slack. Two of the most important are <a href="https://stackoverflow.com/">StackOverflow</a> (a Q&amp;A site with hundreds of thousands of answers to all sorts of programming questions) and <a href="https://community.rstudio.com/">RStudio Community</a> (a forum specifically designed for people using RStudio and the tidyverse (i.e.&nbsp;you)).</p>
<p>Searching for help with <code>R</code> on Google can sometimes be tricky because the program name is, um, a single letter. Google is generally smart enough to figure out what you mean when you search for “r scatterplot”, but if it does struggle, try searching for “rstats” instead (e.g.&nbsp;“rstats scatterplot”). Likewise, whenever using a specific package, try searching for that package name instead of the letter “r” (e.g.&nbsp;“ggplot scatterplot”). Good, concise searches are generally more effective.</p>
<p><strong>Help with Using R</strong>: There are some excellent additional tutorials on R available through <a href="https://rstudio.cloud/learn/primers">Rstudio/Posit Clould Primers</a>.</p>
</section>
</section>
<section id="evaluations-and-grades" class="level2">
<h2 class="anchored" data-anchor-id="evaluations-and-grades">Evaluations and Grades</h2>
<p>Your grade in this course will be based on attendance/participation, labs, weekly writings, and a final project.</p>
<p>The general breakdown will be approximately 55% for labs, participation, and weekly writings, and 45% for projects (see below for specific details). The primary focus of the course is a final project; this requires two “mini-projects” to ensure you’re making satisfactory progress. Assignment of numeric grades will follow the standard, where ties (e.g., 91.5%) are rounded to favor the student. Evaluations (read: grades) are designed not to deter anyone from taking this course who might otherwise be interested, but will be taken seriously.</p>
<p>Weekly writings are intended to be an easy way to get some points. Labs will be short homework assignments that require you to do something practical using <code>R</code>. You must have access to computing resources and the ability to program basic statistical analyses. If you are unprepared to implement basic statistical coding, please take (or retake) PLS202. I highly encourage seeking coding advice from those who instruct computer science courses – it’s their job and they are better at it than I am. I’ll try to provide a good service, but I’m really not an expert in computer science.</p>
<p>More in-depth descriptions for all the assignments are on the <a href=".\assignment/">assignments page</a>. As the course progresses, the assignments themselves will be posted within that page.</p>
<section id="sec-dropone" class="level3">
<h3 class="anchored" data-anchor-id="sec-dropone">Dropping your lowest scores</h3>
<p>I will automatically drop your two lowest weekly writings and your one lowest lab assignment score. This allowance absorbs any personal issues, travel problems, computing issues, or non-excused medical issues that may preclude you from completing your assignment on time. If you request an extension or exemption, I will politely point you here.</p>
</section>
<section id="grade-rubric" class="level3">
<h3 class="anchored" data-anchor-id="grade-rubric">Grade Rubric</h3>
<div class="centered-table">
<table class="caption-top table">
<colgroup>
<col style="width: 45%">
<col style="width: 12%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Assignment</th>
<th style="text-align: center;">Points</th>
<th style="text-align: center;">Percent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Class Participation</td>
<td style="text-align: center;">25</td>
<td style="text-align: center;">5%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Weekly Writings (14-2 x 8 ea), drop two lowest</td>
<td style="text-align: center;">96</td>
<td style="text-align: center;">17%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Labs (14-1 x 15 ea), drop one lowest</td>
<td style="text-align: center;">195</td>
<td style="text-align: center;">35%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mini project 1</td>
<td style="text-align: center;">50</td>
<td style="text-align: center;">9%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mini project 2</td>
<td style="text-align: center;">50</td>
<td style="text-align: center;">9%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Final project</td>
<td style="text-align: center;">135</td>
<td style="text-align: center;">25%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total</td>
<td style="text-align: center;">551</td>
<td style="text-align: center;">—</td>
</tr>
</tbody>
</table>
</div>
<div class="centered-table">
<table class="caption-top table">
<colgroup>
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 11%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Grade</th>
<th style="text-align: center;">Range</th>
<th style="text-align: left;">Grade</th>
<th style="text-align: center;">Range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">4.0</td>
<td style="text-align: center;">92-100%</td>
<td style="text-align: left;">2.0</td>
<td style="text-align: center;">72-76%</td>
</tr>
<tr class="even">
<td style="text-align: left;">3.5</td>
<td style="text-align: center;">87-91%</td>
<td style="text-align: left;">1.5</td>
<td style="text-align: center;">67-72%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3.0</td>
<td style="text-align: center;">82-87%</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: center;">62-67%</td>
</tr>
<tr class="even">
<td style="text-align: left;">2.5</td>
<td style="text-align: center;">77-81%</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: center;">bad-66%</td>
</tr>
</tbody>
</table>
</div>
<section id="grading-in-general" class="level4">
<h4 class="anchored" data-anchor-id="grading-in-general">Grading, in general</h4>
<p>Grading: <strong>come to class.</strong></p>
<p><strong>If</strong> you complete all assignments and attend all class dates, I suspect you will do very well. Given the way the syllabus is structured, I conjecture that the following is a loose guide to grades:</p>
<p><code>4.0</code> Turned in all assignments with good effort, worked hard on the projects and was proud of final product.</p>
<p><code>3.5</code> Turned in all assignments with good effort, worked a bit on the projects and was indifferent to final product.</p>
<p><code>3.0</code> Turned in all assignments with some effort, worked a bit on the projects and was shy about final product.</p>
<p><code>&lt; 3.0</code> Very little effort, or did not turn in all assignments, worked very little on the projects and was embarassed by final product.</p>
<p>…of course, failing to turn in assignments can lead to a grade dramatically <strong>lower</strong> than just a 3.0.</p>
</section>
</section>
<section id="grading-appeals" class="level3">
<h3 class="anchored" data-anchor-id="grading-appeals">Grading Appeals</h3>
<p>All grades are considered final. Any request for a re-grade beyond simple point-tallying mistakes will require that the entire assignment be re-graded. Any points previously awarded may be changed in either direction in the re-grade.</p>
</section>
<section id="class-participation" class="level3">
<h3 class="anchored" data-anchor-id="class-participation">Class Participation</h3>
<!-- Participation can take many forms in an online synchronous course. Most preferred is active participation during class using the Zoom chat and hand-raising with camera and mic on. However, I know that myriad reasons may preclude you from this participation. The bare minimum can best be described as “showing your presence and having some engagement” – questions typed in chat and questions posed after class count towards participation. To encourage some form of participation, I will often pose questions to the class. I am not above bribery - your response to these extra credit questions will earn extra credit points, up to 5, for participation. Thus, you can easily pad your score by (1) meeting the minimum participation requirements such that I know you are present, and (2) earning extra credit by responding (through chat or mic, with or without video) to in-class extra credit prompts. I will clearly state which questions are extra credit. Wrong answers get the same credit as right answers. We are here to learn. If you knew everything already, you wouldn’t be in the class. -->
<p>Participation can take many forms. Most preferred is active participation during class – asking clarifying questions or responding to lecture questions. In the latter half of the semester, we will work in groups in class on small coding exercises and will share results at the end. Sharing your group’s results and code will always count towards participation. Finally, I will often <del>bribe</del> give extra credit points for answering specific questions in class, which I will clearly state as extra credit. Wrong answers get the same credit as right answers. We are here to learn . If you knew everything already, you wouldn’t be in the class.</p>
<p>We are a sizable class, so participation points will be awarded using EC slips which you will be able to turn into me (with your name on it) at the end of class. That way, I don’t slow down the class trying to write down everyone’s names.</p>
</section>
<section id="success-in-this-course" class="level3">
<h3 class="anchored" data-anchor-id="success-in-this-course">Success in this Course</h3>
<p>I <em>promise</em>, you are equipped to succeed in this course. It will provide two challenges: the conceptual challenge of understanding and linking statistical theory to social science problems; and the implementation challenge of learning to program in <code>R</code>.</p>
<p>Learning <code>R</code> can be difficult at first. Like learning a new language—Spanish, French, or Chinese—it takes dedication and perseverance. Hadley Wickham (the chief data scientist at RStudio and the author of some amazing R packages you’ll be using like) <strong>ggplot2</strong>—<a href="https://r-posts.com/advice-to-young-and-old-programmers-a-conversation-with-hadley-wickham/">made this wise observation</a>:</p>
<blockquote class="blockquote">
<p>It’s easy when you start out programming to get really frustrated and think, “Oh it’s me, I’m really stupid,” or, “I’m not made out to program.” But, that is absolutely not the case. Everyone gets frustrated. I still get frustrated occasionally when writing R code. It’s just a natural part of programming. So, it happens to everyone and gets less and less over time. Don’t blame yourself. Just take a break, do something fun, and then come back and try again later.</p>
</blockquote>
<p>Even experienced programmers (like me) find themselves bashing their heads against seemingly intractable errors.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> If you’re finding yourself bashing your head against a wall and not making progress, try the following. First, take a break. Sometimes you just need space to see an error. Next, talk to classmates. Finally, if you genuinely cannot see the solution, e-mail the TA. But, honestly, it’s probably just a typo.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="images/gator_error.jpg" class="img-fluid figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="images/hosrt_error_tweet.png" class="img-fluid figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="academic-honesty" class="level3">
<h3 class="anchored" data-anchor-id="academic-honesty">Academic honesty</h3>
<p>Violation of <a href="http://asmsu.msu.edu/home/initiatives/spartan-code-of-honor/">MSU’s Spartan Code of Honor</a> will result in a grade of 0.0 in the course. Moreover, I am required by MSU policy to report suspected cases of academic dishonesty for possible disciplinary action.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
</section>
<section id="generative-ai" class="level3">
<h3 class="anchored" data-anchor-id="generative-ai">Generative AI</h3>
<p>Generative AI is both a computing resource and potential avenue for cheating in violation of the Spartan Code of Honor (see Academic Integrity, below). For this course, some use of generative AI is permitted or forbidden as follows:</p>
<ul>
<li>For the purposes of learning <code>R</code> coding, data cleaning and processing, visualization, and other coding applications of R, you are fully permitted to use ChatGPT or other generative AI models provided you indicate such a use at the top of your problem set, and include a comment <code>#Used Generative AI</code> in your code. When “stuck” on coding, I have always encouraged students to use Stack Overflow to find similar problems and then translate the found solutions into the problem at hand. It is one of the most important skills in coding. Generative AI facilitates this process, and thus is a tool. Since <code>R</code> itself is a tool to help you learn and apply the material, I view using generative AI for help in specific coding tasks as a suitable use. You must, in all cases, understand what your code is doing, and be able to justify its use. If you cannot tell me, on review, what a line of code is used for, then you have not used generative AI properly.</li>
</ul>
</section>
</section>
<section id="accommodations" class="level2">
<h2 class="anchored" data-anchor-id="accommodations">Accommodations</h2>
<p>If you need a special accommodation for a disability, religious observance, or have any other concerns about your ability to perform well in this course, please contact me immediately so that we can discuss the issue and make appropriate arrangements. MSU has a specific policy for religious observance available here.</p>
<p>Michigan State University is committed to providing equal opportunity for participation in all programs, services and activities. Requests for accommodations by persons with disabilities may be made by contacting the Resource Center for Persons with Disabilities at 517-884-RCPD or on the web at rcpd.msu.edu. Once your eligibility for an accommodation has been determined, you will be issued a verified individual services accommodation (“VISA”) form. Please present this form to me at the start of the term and/or two weeks prior to the accommodation date (test, project, etc). Requests received after this date will be honored whenever possible.</p>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<p>Mental health concerns or stressful events may lead to diminished academic performance or reduce a student’s ability to participate in daily activities. Services are available to assist you with addressing these and other concerns you may be experiencing. You can learn more about the broad range of confidential mental health services available on campus via the Counseling &amp; Psychiatric Services (CAPS) website at www.caps.msu.edu.</p>
</section>
<section id="mandated-reporting" class="level2">
<h2 class="anchored" data-anchor-id="mandated-reporting">Mandated Reporting</h2>
<p>Writings, labs, and projects, and other materials submitted for this class are generally considered confidential pursuant to the University’s student record policies. However, students should be aware that University employees, including instructors, may not be able to maintain confidentiality when it conflicts with their responsibility to report certain issues to protect the health and safety of MSU community members and others. As the instructor, I must report the following information to other University offices (including the Department of Police and Public Safety) if you share it with me: • Suspected child abuse/neglect, even if this maltreatment happened when you were a child; • Allegations of sexual assault, relationship violence, stalking, or sexual harassment; and • Credible threats of harm to oneself or to others. These reports may trigger contact from a campus official who will want to talk with you about the incident that you have shared. In almost all cases, it will be your decision whether you wish to speak with that individual. If you would like to talk about these events in a more confidential setting, you are encouraged to make an appointment with the MSU Counseling and Psychiatric Services.</p>
</section>
<section id="acknowledgements" class="level2">
<h2 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h2>
<p>This course structure and content has been improved greatly by Prof.&nbsp;Bushong. All remaining errors are my own.</p>
</section>
<section id="miscellanea" class="level2">
<h2 class="anchored" data-anchor-id="miscellanea">Miscellanea</h2>
<p>All class material will be posted on https://ec242.netlify.app. D2L will be used sparingly for submission of weekly writings and assignments and distribution of grades.</p>
</section>
<section id="contacting-me" class="level2">
<h2 class="anchored" data-anchor-id="contacting-me">Contacting Me</h2>
<p>Email is a blessing and a curse. Instant communication is wonderful, but often email is the wrong medium to have a productive conversation about course material. Moreover, I get a <strong>lot</strong> of emails. This means that I am frequently triaging emails into two piles: “my house is burning down” and “everything else”. Your email is unlikely to make the former pile. So… asking questions about course material is always best done in-class or in office hours. Students always roll their eyes when professors say things like that, but it’s true that if you have a question, it’s very likely someone else has the same question.</p>
<p>That said, email is still useful. If you’re going to use it, you should at least use if effectively. There’s a running joke in academia that professors only read an email until they find a question. They then respond to that question and ignore the rest of the email. I won’t do this, but I do think it is helpful to assume that the person on the receiving end of an email will operate this way. By keeping this in mind, you will write a much more concise and easy to understand email.</p>
<p>Some general tips:</p>
<ul>
<li><strong>Always</strong> include <code>[EC242]</code> in your subject line (brackets included).</li>
<li>Use a short but informative subject line. For example: <code>[EC242] Final Project Grading</code></li>
<li>Use your University-supplied email for University business. This helps me know who you are.</li>
<li>One topic, one email. If you have multiple things to discuss, and you anticipate followup replies, it is best to split them into two emails so that the threads do not get cluttered.</li>
<li>Ask direct questions. If you’re asking multiple questions in one email, use a bulleted list.</li>
<li>Don’t ask questions that are answered by reading the syllabus! This drives me nuts.</li>
<li>I’ve also found that students are overly polite in emails. I suppose it may be intimidating to email a professor, and you should try to match the style that the professor prefers, but I view email for a course as a casual form of communication. Said another way: get to the point. Students often send an entire paragraph introducing themselves, but if you use your University email address, and add the course name in the subject, I will already know who you are. Here’s an example of a perfectly reasonable email:</li>
</ul>
<blockquote class="blockquote">
<p>Subject: [EC242] Lab, Question 2, Typo</p>
<p>Hi Prof.&nbsp;K,</p>
<p>There seems to be a typo in the Lab on Question 2. The problem says to use a column of data that doesn’t seem to exist. Can you correct this or which should we use?</p>
<p>Thanks, Student McStudentFace</p>
</blockquote>
<section id="letters-of-recommendation-references" class="level3">
<h3 class="anchored" data-anchor-id="letters-of-recommendation-references">Letters of Recommendation / References</h3>
<p>At this time, I am essentially not writing letters of recommendation. If you want to convince me to do so, you’ll likely need to work exceptionally hard. Consider this a warning.</p>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>If you’ve got money to burn, you can buy me a burrito.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>This bothers me way more than it should.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>By the end of the course, you will realize that 1) I make many many many errors; 2) that I frequently cannot remember a command or the correct syntax; and 3) that none of this matters too much in the big picture because I know the broad approaches I’m trying to take and I know how to Google stuff. Learn from my idiocy.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>So just don’t cheat or plagiarize. This is an easy problem to avoid.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>